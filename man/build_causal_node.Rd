% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_causal_node.R
\name{build_causal_node}
\alias{build_causal_node}
\title{Build causal matrix or build node-timing matrix}
\usage{
build_causal_node(
  nodes,
  types,
  timing,
  user_mods = NULL,
  include_subsets = FALSE,
  return_node = FALSE
)
}
\arguments{
\item{nodes}{the input nodes/variable names, a character vector/list.
Should be of the same length and order with types and timing.}

\item{types}{the input types of nodes, a character vector/list. Takes only three values: "otc" (outcome), "ctr" (control),
or "test" (test). Should be of the same length and order with nodes and timing.}

\item{timing}{the input timing of nodes, a character vector/list. Should be of the same length and order with nodes and types.}

\item{user_mods}{User-defined model(s), optional. This argument allows users to input their theoretical biases.
If the model(s) are found in the matrix, they will be pushed to the top in the orders that they are introduced.
If the model(s) are not found in the matrix, the user can choose to add it to the matrix or not.}

\item{include_subsets}{if TRUE, the matrix will include models where certain nodes (besides outcome and exposure)
do not exist. Note that model A where X does not cause anything but still exists is a different theoretical claim than
model B where X does not exist entirely. The matrix can get significantly larger when this option is allowed. Default to FALSE.}

\item{return_node}{if TRUE, returns the node-timing matrix instead of the causal matrix.}
}
\value{
Returns either a causal matrix or a node-timing matrix. The causal matrix is the basis for comparing theoretical models. The causal matrix consists of at least 9 columns:
from, to, direction, model, component, timing_from, type_from, timing_to, type_to. The direction only takes two values "->" or
"<->". "<-" is omitted because X2 <- X1 is similar to X1 -> X2. The column user_mod is introduced when user_mods are provided.
In the causal matrix, nodes are called by conventional node names for causal inference (Y, Xtest, X1, X2, etc.) instead of
their original variable names. A summary of variable names, timing, and types is provided when the function runs. Users can
check this information in the node-timing matrix.
}
\description{
\code{build_causal_node} returns either the causal matrix or the node-timing matrix used in theory comparison
}
\details{
This function is included in theoRy. Unless computing the causal matrix separately is require, users are encouraged to use
theoRy instead.
}
\examples{
nodes <- c("y","xtest","ctr1","ctr2")
timing <- c(0,-1,-3,-2)
types <- c("otc","test","ctr","ctr")
user_mods <- c("y ~ xtest + ctr2; xtest ~ ctr1 + ctr2", "y ~ xtest + ctr1; xtest ~ ctr1 + ctr2")
causal_matrix <- build_causal_node(nodes=nodes, types=types, timing=timing, user_mods=user_mods, include_subsets=TRUE, return_node=FALSE)

}
